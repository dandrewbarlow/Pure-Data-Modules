#N canvas 566 239 1920 1005 12;
#N canvas 692 229 825 1173 select_wave 0;
#X obj 35 61 inlet;
#X obj 328 129 loadbang;
#X msg 328 159 names sin sawtooth square;
#X obj 328 224 select sin sawtooth square;
#X msg 327 266 1 0 0;
#X msg 387 266 0 1 0;
#X msg 448 266 0 0 1;
#X obj 386 308 unpack f f f;
#X obj 386 344 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X obj 426 343 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 467 344 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 68 194 osc~;
#X obj 68 237 phasor~;
#X obj 143 366 *~;
#X obj 144 458 *~;
#X obj 145 414 *~;
#X text 35 31 midi note #;
#X obj 35 90 mtof;
#X obj 299 463 outlet~;
#X obj 327 191 cnv 15 79 19 empty empty empty 20 12 0 14 #4a4c9e #8789eb
0;
#X dropdown 327 192 9 1 0 0 - - -, f 9;
#X obj 146 46 inlet;
#X obj 206 45 inlet;
#X text 137 13 modulation Freq & Index;
#X obj 141 84 osc~;
#X obj 141 115 *~;
#X obj 35 131 +~;
#N canvas 195 446 835 617 squareWave~ 0;
#X obj 111 53 inlet~;
#X obj 111 82 phasor~;
#X text 334 24 Pulse Width Modulation;
#X obj 126 233 expr~ $v1 > $v2;
#X floatatom 331 80 5 0 100 0 - - -, f 5;
#X text 378 52 [0-100];
#X obj 331 108 / 100;
#X obj 126 286 outlet~;
#X obj 331 137 osc~;
#X obj 234 170 abs~;
#X obj 331 51 inlet;
#X obj 191 57 inlet;
#X text 189 35 pulse width;
#X obj 191 91 / 100;
#X obj 233 143 +~;
#X floatatom 262 116 5 0 0 0 - - -, f 5;
#X obj 236 202 clip~ 0 100;
#X text 39 322 think my maths off or theres a generally better way
to implement this \, but I can get it to sort of work well enough.
Biggest problem is that big values can make it clip out.;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 6 0 8 0;
#X connect 8 0 14 1;
#X connect 9 0 16 0;
#X connect 10 0 4 0;
#X connect 11 0 13 0;
#X connect 13 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 9 0;
#X connect 16 0 3 1;
#X restore 66 289 pd squareWave~;
#X obj 347 63 inlet;
#X text 345 39 LFO freq;
#X floatatom 76 106 5 0 0 0 - - -, f 5;
#X obj 259 63 inlet;
#X text 254 39 pulse width;
#X connect 0 0 17 0;
#X connect 1 0 2 0;
#X connect 1 0 8 0;
#X connect 2 0 20 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 4 0 7 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 7 2 10 0;
#X connect 8 0 13 1;
#X connect 9 0 15 1;
#X connect 10 0 14 1;
#X connect 11 0 13 0;
#X connect 12 0 15 0;
#X connect 13 0 18 0;
#X connect 14 0 18 0;
#X connect 15 0 18 0;
#X connect 17 0 26 0;
#X connect 17 0 30 0;
#X connect 20 0 3 0;
#X connect 21 0 24 0;
#X connect 22 0 25 1;
#X connect 24 0 25 0;
#X connect 25 0 26 1;
#X connect 26 0 11 0;
#X connect 26 0 12 0;
#X connect 26 0 27 0;
#X connect 27 0 14 0;
#X connect 28 0 27 2;
#X connect 31 0 27 1;
#X coords 0 -1 1 1 81 20 2 326 191;
#X restore 318 236 pd select_wave;
#X obj 236 110 inlet;
#N canvas 34 494 1246 685 volume 0;
#X obj 77 26 inlet~;
#X obj 77 89 *~;
#X obj 203 48 tgl 18 0 empty empty empty 4 6 0 10 #4a4c9e #eb7e49 #8789eb
0 1;
#X obj 222 48 hsl 126 18 0.01 1 1 0 empty empty volume 93 8 0 10 #4a4c9e
#eb7e49 #8789eb 12500 1;
#X obj 77 129 outlet~;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X coords 0 -1 1 1 151 20 2 202 47;
#X restore 400 236 pd volume;
#X text 238 80 MIDI note #;
#N canvas 786 408 1183 659 modulation 0;
#X obj 62 49 vsl 43 45 0 50 0 0 empty empty freq 10 36 0 10 #4a4c9e
#eb7e49 #8789eb 0 1;
#X obj 106 49 vsl 43 45 0 127 0 0 empty empty index 6 37 0 10 #4a4c9e
#eb7e49 #8789eb 0 1;
#X obj 194 49 vsl 43 45 0 100 0 0 empty empty LFO 13 37 0 10 #4a4c9e
#eb7e49 #8789eb 0 1;
#X obj 60 140 outlet;
#X obj 123 137 outlet;
#X obj 235 137 outlet;
#X obj 150 49 vsl 43 45 -25 70 0 0 empty empty pw 16 37 0 10 #4a4c9e
#eb7e49 #8789eb 0 1;
#X obj 181 138 outlet;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 6 0 7 0;
#X coords 0 -1 1 1 175 50 2 62 49;
#X restore 317 256 pd modulation;
#X obj 302 174 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 4650 1;
#X obj 644 361 dac~;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-array 1000 float 0 black black;
#X coords 0 1 999 -1 160 100 1;
#X restore 612 21 graph;
#X obj 694 358 tabwrite~ \$0-array;
#X obj 705 319 metro 100;
#X obj 705 296 tgl 14 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 2 0 6 1;
#X connect 2 0 8 0;
#X connect 4 0 0 1;
#X connect 4 1 0 2;
#X connect 4 2 0 3;
#X connect 4 3 0 4;
#X connect 5 0 0 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
